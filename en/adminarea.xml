<?xml version='1.0' encoding='ISO-8859-1'?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN"
  "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd">
<!-- $Id: adminarea.xml,v 1.34 2010-09-06 17:41:26 ub Exp $ -->

<chapter id="adminarea">
<title>The admin area of OTRS</title>

<section id="adminarea-general">
<title>Basics</title>

<para>
This is the central place for OTRS administrators. Here you can alter your
configuration, install additional packages, such as FAQ and ITSM; add
queues and agents, and much more.</para>

<para>
Agents who are members of the <emphasis>admin</emphasis> group can access the
administrators area, by clicking the <emphasis>Admin</emphasis>
link, in the navigation bar (see Figure 5.1 below); the rest of the agents won't
see this link. On a new installation you can log in with the user
<emphasis>root@localhost</emphasis> and the password
<emphasis>root</emphasis>.
</para>

<warning>
<para>
Please change the password for this account as soon as possible via the

<link linkend="user-preferences">
user preferences
</link>

page, because this is a default password on all OTRS systems.
</para>
</warning>

<para>
<screenshot>
<screeninfo>The admin area of OTRS</screeninfo>
<graphic srccredit="Adminarea - screenshot" scale="40" fileref="screenshots/adminarea.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.1. Administrator's area of the agent interface.</emphasis>
</para>

</section>


<section id="adminarea-agents-groups-and-roles">
<title>Agents, groups and roles</title>

<section id="adminarea-agents">
<title>Agents</title>

<para>
By clicking the link <emphasis>Agent</emphasis> you get access to the agent management
of OTRS (see Figure 5.2 below). Administrators can add, change or deactivate agent's accounts.
Administrators can also manage agent's preferences, for instance, the language
of their interface and notification settings.
</para>

<note>
<para>
To keep the consistency of the data for OTRS it is not possible to delete any agent's
account, but only deactivate them. To do so, set them to
<emphasis>invalid</emphasis> or <emphasis>invalid-temporarily</emphasis>.
</para>
</note>

<para>
<screenshot>
<screeninfo>Agent account management</screeninfo>
<graphic srccredit="Adminarea agent management - screenshot" scale="40" fileref="screenshots/admin-agents.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.2. Agent's accounts management.</emphasis>
</para>

<para>
To register an agent, click on the "Add agent" button, type all the needed data and press
the Submit button at the bottom of the screen that is shown in the Figure 5.3.
</para>

<para>
<screenshot>
<screeninfo>Adding an agent</screeninfo>
<graphic srccredit="Adminarea agent management - screenshot" scale="40" fileref="screenshots/add-agent.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.3. Adding a new agent.</emphasis>
</para>

<para>
After the new account has been created, you should make the agent a member of one or more
groups or roles. Therefore, you will be redirected automatically to the appropriate screen.
For further information about groups and roles, read the
<link linkend="adminarea-groups">Groups</link> and <link linkend="adminarea-roles">Roles</link>
sections of this chapter.
</para>

</section>

<section id="adminarea-groups">
<title>Groups</title>

<para>
Groups are very important in OTRS and every agent's account should at least
belong to one group or role. In a brand new installation, there are three pre-defined
groups available, as it is defined in the Table 5-1.
</para>

<para>
<table id="table-of-groups-after-installation">
<title>Default groups after OTRS has been installed</title>
  <tgroup cols="2">
    <thead>
      <row>
        <entry>Group</entry>
        <entry>Description</entry>
      </row>
    </thead>
    <tbody>
      <row>
        <entry>admin</entry>
        <entry>Allowed to perform administrative tasks in the system.</entry>
      </row>
      <row>
        <entry>stats</entry>
        <entry>
          Qualified to access the stats module of OTRS and
          generate statistics.
        </entry>
      </row>
      <row>
        <entry>users</entry>
        <entry>
          This is the group where your agents should belong to and have
          read and write permissions. If agents are in this group and have write
          rights, they can use all functions of the ticket system.
        </entry>
      </row>
    </tbody>
  </tgroup>
</table>
</para>

<note>
    <para>
        In a brand new OTRS installation, the group <emphasis>users</emphasis> is empty and
        the agent "root@localhost" belongs per default to the admin and stats groups.
    </para>
</note>

<para>
You can access to the group management (see Figure 5.4 below ) by clicking the
<emphasis>Groups</emphasis> link in the admin area.
</para>

<para>
<screenshot>
<screeninfo>Group management in OTRS</screeninfo>
<graphic srccredit="Adminarea group management - screenshot" scale="40" fileref="screenshots/admin-groups.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.4. Group management.</emphasis>
</para>

<note>
<para>
To keep the consistency of the data for OTRS it is not possible to delete groups,
but only deactivate them. To do so, set them to
<emphasis>invalid</emphasis> or <emphasis>invalid-temporarily</emphasis>.
</para>
</note>

<para>
To add an agent to a group or to change the agents who belong to a group you can use
the link <emphasis>Agents &lt;-&gt; Groups</emphasis> of the admin area (see Figure 5.5 below).
</para>

<para>
<screenshot>
<screeninfo>Agent group management</screeninfo>
<graphic srccredit="Adminarea groups and agents - screenshot" scale="40" fileref="screenshots/admin-agents-and-groups.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.5. Group management.</emphasis>
</para>

<para>
An overview of all groups and agents in the system is displayed, you can also use the filters
to find a specific element. If you want to change the groups that an agent is member of, just
click on the agent's name (see Figure 5.6 below). To change the agents that are part of a group
just click on the group you want to edit (see Figure 5.7 below).
</para>

<para>
<screenshot>
<screeninfo>Agent group management</screeninfo>
<graphic srccredit="Adminarea groups and agents - screenshot" scale="40" fileref="screenshots/agent-group-relations.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.6. Change the groups an agent belongs to.</emphasis>
</para>

<para>
<screenshot>
<screeninfo>Agent group management</screeninfo>
<graphic srccredit="Adminarea groups and agents - screenshot" scale="40" fileref="screenshots/agent-group-relations2.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.7. Change the agents that belong to a specific group.</emphasis>
</para>

<para>
Agents can have different rights in a group, there is a list of the
permission rights available in the Table 5-2.
</para>

<para>
<table id="table-of-group-permissions-after-installation">
<title>Rights in the groups of OTRS</title>
  <tgroup cols="2">
    <thead>
      <row>
        <entry>
          Right
        </entry>
        <entry>
          Description
        </entry>
      </row>
    </thead>
    <tbody>
      <row>
        <entry>
          ro
        </entry>
        <entry>
          Read only access to the tickets and entries or queues of this group.
        </entry>
      </row>
      <row>
        <entry>
          move into
        </entry>
        <entry>
          Right to move tickets or entries between queues or areas that
          belong to this group.
        </entry>
      </row>
      <row>
        <entry>
          create
        </entry>
        <entry>
          Right to create tickets or entries in the queues or areas of this
          group.
        </entry>
      </row>
      <row>
        <entry>
          owner
        </entry>
        <entry>
          Right to update the owner of tickets or entries in queues or
          areas that belong to this group.
        </entry>
      </row>
      <row>
        <entry>
          priority
        </entry>
        <entry>
          Right to change the priority of tickets or entries in queues or
          areas that belong to this groups.
        </entry>
      </row>
      <row>
        <entry>
          rw
        </entry>
        <entry>
          Full read and write access on tickets or entries in the
          queues or areas that belong to this group.
        </entry>
      </row>
    </tbody>
  </tgroup>
</table>
</para>

<note>
    <para>
        By default, the QueueView only lists tickets in queues that an
        agent has <emphasis>rw</emphasis> access to, i.e., the tickets the agent needs
        to work on. If you want to change this behaviour, you can set
        <link linkend="Ticket:Frontend::Agent::Ticket::ViewQueue:Ticket::Frontend::AgentTicketQueue_ViewAllPossibleTickets">
            Ticket::Frontend::AgentTicketQueue###ViewAllPossibleTickets
        </link>
        to <emphasis>Yes</emphasis>.
    </para>
</note>
</section>

<section id="adminarea-roles">
<title>Roles</title>

<para>
Roles are a very powerful and helpful feature to manage the access rights of many
agents in a very simple and fast way. Therefore, it is ideal to save time on big and
complex systems, that have a lot of agents, groups and queues.
</para>

<para>
To explain the advantages of the role feature, suppose that you have a system with
100 agents, 90 of them have access only to a queue called "support", where all support
requests are handled. The "support" queue contains some sub queues. The other 10 agents
have permission to access all queues of the system, they are not restricted only to the
support queue. These 10 agents dispatch tickets, watch the raw queue and move spam
messages into the "junk" queue.
</para>

<para>
Some day, the company opens a new department that sells products. Offerings, confirmations
of offerings, bills, etc. must be created and some of the agents in your system shall do
this via OTRS. The different agents have to get access to the new queues that must be
created.
</para>

<para>
Because it would take a long time to change the access rights for the different agents
manually, roles that define the different access levels can be created. Then the agents
can be added to one or more roles, therefore, their rights will automatically get changed.
If a new agent account is created, it is also possible to add this account to one or more roles.
</para>

<note>
<para>
Roles are really useful when maintaining larger OTRS installations. You should
not use both Agent to Group and Agent to Role mappings at the same time though,
this would make maintenance really hard. Thence, if you decide to go with
roles, we'd recommend you to to disable the Agents &lt;-&gt; Groups option in
the Admin area, by modifying the
<link linkend="Framework:Frontend::Admin::ModuleRegistration:Frontend::Module_AdminUserGroup">
    Frontend::Module###AdminUserGroup
</link>
in the SysConfig. Be aware that this won't remove already existing Agents to Group
assignments!</para>
</note>

<para>
You can access to the role management (see Figure 5.8 below ) by clicking the
<emphasis>Roless</emphasis> link in the admin area.
</para>

<para>
<screenshot>
<screeninfo>Role management in OTRS</screeninfo>
<graphic srccredit="Adminarea roles - screenshot" scale="40" fileref="screenshots/admin-roles.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.8. Role management.</emphasis>
</para>

<note>
<para>
To keep the consistency of the data for OTRS it is not possible to delete roles,
but only deactivate them. To do so, set them to
<emphasis>invalid</emphasis> or <emphasis>invalid-temporarily</emphasis>.
</para>
</note>

<para>
An overview of all roles in the system is displayed, to edit an entry, just click on the
role's name to get its editable data. Please be aware that in a brand new OTRS
installation, there are no roles defined by default. To register one, click on the
"Add role" button and provide the needed data and submit it (see Figure 5.9 below).
</para>

<para>
<screenshot>
<screeninfo>Role management in OTRS</screeninfo>
<graphic srccredit="Adminarea roles - screenshot" scale="40" fileref="screenshots/add-role.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.9. Adding a new role.</emphasis>
</para>

<para>
To get an overview of all roles and agents in the system, click on the link
Roles &lt;-&gt; Agents in the admin area, you can also use the filters
to find a specific element. If you want to change the roles that an agent has, just
click on the agent's name (see Figure 5.10 below). To change the agents that have a role
just click on the role you want to edit (see Figure 5.11 below).
</para>

<para>
<screenshot>
<screeninfo>Agent role management</screeninfo>
<graphic srccredit="Adminarea roles and agents - screenshot" scale="40" fileref="screenshots/admin-roles-agents-relation.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.10. Change the roles an agent has.</emphasis>
</para>

<para>
<screenshot>
<screeninfo>Agent role management</screeninfo>
<graphic srccredit="Adminarea groups and agents - screenshot" scale="40" fileref="screenshots/admin-roles-agents-relation2.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.11. Change the agents that have a specific role.</emphasis>
</para>

<para>
To get an overview of all roles and groups in the system, click on the link
Roles &lt;-&gt; Groups in the admin area, you will see a similar screen
as the one shown in the Figure 5.12. You can also use the filters to find a specific element.
</para>

<para>
<screenshot>
<screeninfo>Role group management</screeninfo>
<graphic srccredit="Adminarea roles and groups - screenshot" scale="40" fileref="screenshots/admin-roles-groups.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.12. Manage role-groups relations.</emphasis>
</para>

<para>
To define the different access rights for a role, click on the name of a role or a group
(see below the Figures 5.13 and 5.14, respectively).
</para>

<para>
<screenshot>
<screeninfo>Change group relations for a role</screeninfo>
<graphic srccredit="Adminarea roles and groups - screenshot" scale="40" fileref="screenshots/groups-roles-relations.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.13. Change group relations for a role.</emphasis>
</para>

<para>
<screenshot>
<screeninfo>Change role relations for a group</screeninfo>
<graphic srccredit="Adminarea roles and groups - screenshot" scale="40" fileref="screenshots/groups-roles-relations2.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.14. Change role relations for a group.</emphasis>
</para>

</section>

</section>


<section id="customers-and-groups">
<title>Customers and customer groups</title>

<section id="adminarea-customers">
<title>Customers</title>

<para>
OTRS supports different types of users. Using the link "Customers" (via the navigation bar
or the admin area), you can manage the accounts of your customers (see Figure 5.14 below),
who can can log into the system via the customer interface (customer.pl). Through this
interface, your customers can create tickets and access to them. It is importan to know
that a customer is needed for the ticket history in the system.
</para>

<para>
<screenshot>
<screeninfo>Customer management in OTRS</screeninfo>
<graphic srccredit="Adminarea customer - screenshot" scale="40" fileref="screenshots/admin-customer.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.14. Customer management.</emphasis>
</para>

<para>
You can search for a registered customer, edit his data by clicking on his name.
You also have the possibility to change the customer back-end, for further information
please refer to the chapter about
<link linkend="external-backends">
external back-ends
</link>.
</para>

<para>
To create a new customer account, click on the "Add customer" button (see Figure 5.15
below). Some of the fields are mandatory, i.e., they have to contain values, so if you
leave one of those empty, it will be marked and a message will be displayed.
</para>

<para>
<screenshot>
<screeninfo>Customer management in OTRS</screeninfo>
<graphic srccredit="Adminarea customer - screenshot" scale="40" fileref="screenshots/add-customer.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.14. Adding a customer.</emphasis>
</para>

<para>
The customer can access to the system by providing his username and password. The
CustomerID is needed by the system to identify the user and his tickets. Since the
email address is a unique value, it can be used as ID.
</para>

<note>
<para>
To keep the consistency of the data for OTRS it is not possible to delete customers,
but only deactivate them. To do so, set them to
<emphasis>invalid</emphasis> or <emphasis>invalid-temporarily</emphasis>.
</para>
</note>

</section>


<section id="adminarea-customers-groups">
<title>Customer groups</title>

<para>
Customer users can also be added to a group, which can be useful if you want to add
some customers of the same company that shall only have access to one or some queues,
through the customer interface. First create the group which your customers will belong
to, via the

<link linkend="adminarea-groups">
group management module
</link>

. Then add the

<link linkend="adminarea-queue">
queues
</link>

and select the new group for this queues.
</para>

<para>
The next step is to activate the customer group support. This can be done
with the configuration parameter

<link linkend="Framework:Frontend::Customer:CustomerGroupSupport">
CustomerGroupSupport
</link>

, via the graphical configuration front-end of OTRS (SysConfig). Using the parameter

<link linkend="Framework:Frontend::Customer:CustomerGroupAlwaysGroups">
CustomerGroupAlwaysGroups
</link>

, you can specify the default groups for a new added customer, so that every new
account will be automatically added to this groups.
</para>

<para>
Through the link "Customers &lt;-&gt; Groups" you can manage which customer shall
belong to the different groups (see Figure 5.15 below).
</para>

<para>
<screenshot>
<screeninfo>Customer group management</screeninfo>
<graphic srccredit=">Adminarea customer groups - screenshot" scale="40" fileref="screenshots/admin-customer-groups.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.15. Customer-Group relations management.</emphasis>
</para>

<para>
To define the different groups a customer should be part of and viceversa, click on the corresponding
customer username or group (see below the Figures 5.16 and 5.17, respectively).
</para>

<para>
<screenshot>
<screeninfo>Change group relations for a customer</screeninfo>
<graphic srccredit="Adminarea customers and groups - screenshot" scale="40" fileref="screenshots/groups-customers-relations.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.16. Change group relations for a customer.</emphasis>
</para>

<para>
<screenshot>
<screeninfo>Change customer relations for a group</screeninfo>
<graphic srccredit="Adminarea roles and groups - screenshot" scale="40" fileref="screenshots/groups-customers-relations2.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.17. Change customer relations for a group.</emphasis>
</para>

</section>

</section>

<section id="adminarea-queue">
<title>Queues</title>

<para>
Through the link "Queue" of the admin area, you can manage the

<link linkend="what-is-a-queue">
queues
</link>

of your system (see Figure 5.18 below). In a new OTRS installation there are 4 default
queues: Junk, Misc, Postmaster and Raw.All incoming messages will be stored in it the
"Raw" queue if no filter rules are defined. The "Junk" queue can be used to store
spam messages.
</para>

<para>
<screenshot>
<screeninfo>Queue management in OTRS</screeninfo>
<graphic srccredit="Adminarea queue - screenshot" scale="40" fileref="screenshots/admin-queue.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.18. Queue management.</emphasis>
</para>

<para>
Here you can add queues (see Figure 5.19 below) and modify them. You can specify the
name and the group that should use the queue; it is also possible to determine if you
want it to be a sub-queue of an existing one.
</para>

<para>
<screenshot>
<screeninfo>Queue management in OTRS</screeninfo>
<graphic srccredit="Adminarea queue - screenshot" scale="40" fileref="screenshots/add-queue.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.19. Adding a new queue.</emphasis>
</para>

<para>
You can define an unlock timeout for a queue, i.e., if an agent locks a ticket and
does not close it before the unlock timeout has passed, the ticket will be automatically
unlocked and hence, available for other agents.
</para>

<para>
There are three escalation time settings that can be associated at queue level:
</para>

<itemizedlist>
    <title>Escalation - First Response Time</title>
    <listitem>
        <para>
If there is not customer interaction added, either email-external or phone, to a new ticket
before the time defined here expires, the ticket is escalated.
        </para>
    </listitem>
</itemizedlist>

<itemizedlist>
    <title>Escalation - Update Time</title>
    <listitem>
        <para>
If there is an article added, such as a follow-up, via e-mail or the customer portal, the
escalation update time is reset. If there is no customer contact, either email-external or
phone, added to a ticket before the time defined here expires, the ticket is escalated.
        </para>
    </listitem>
</itemizedlist>

<itemizedlist>
    <title>Escalation - Solution Time</title>
    <listitem>
        <para>
If the ticket is not set to closed before the time defined here expires, the ticket is escalated.
        </para>
    </listitem>
</itemizedlist>

<para>
With 'Ticket lock after a follow-up' you can define if a ticket should be set to 'locked'
to the old owner if a ticket that has been set to closed and later is re-opened. This ensures
that a follow up for a ticket is processed by the agent that has previously handled that ticket.
</para>

<para>
The parameter for the system address specifies the email address that will be used for the outgoing
tickets of this queue. There is also possibility to associate a queue to a salutation and a signature,
for the email answers. For more detailed information, please refer to the sections


<link linkend="adminarea-emailaddresses">
email addresses
</link>

,

<link linkend="adminarea-salutations">
salutations
</link>

and

<link linkend="adminarea-signatures">
signatures
</link>

.
</para>

<note>
<para>
To keep the consistency of the data for OTRS it is not possible to delete queues,
but only deactivate them. To do so, set them to
<emphasis>invalid</emphasis> or <emphasis>invalid-temporarily</emphasis>.
</para>
</note>

</section>


<section id="adminarea-salutations-signatures-attachments-and-answers">
<title>Salutations, signatures, attachments and responses</title>

<section id="adminarea-salutations">
<title>Salutations</title>

<para>
A salutation is a text module for a response. Salutations can be linked
to one or more queues, as described in the section about

<link linkend="adminarea-queue">
queues
</link>

. A salutation is used only if a ticket from a queue the salutation is linked to,
is answered. To manage the different salutations of your system, use the "Salutations"
link of the admin area (see Figure 5.20 below).
different salutations of your system.
</para>

<para>
<screenshot>
<screeninfo>Salutation management</screeninfo>
<graphic srccredit="Adminarea salutation - screenshot" scale="40" fileref="screenshots/admin-salutation.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.20. Salutation management.</emphasis>
</para>

<para>
After a default installation there is already one salutation available,
"system standard salutation (en)".
</para>

<para>
To create a new salutation, press the button "Add salutation", provide the
needed data and submit it (see Figure 5.21 below).
</para>

<para>
<screenshot>
<screeninfo>Add a salutation</screeninfo>
<graphic srccredit="Adminarea salutation - screenshot" scale="40" fileref="screenshots/add-salutation.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.21. Adding a new salutation.</emphasis>
</para>

<para>
Because the content of a salutation can be created dynamically, for example,
for things that change for every ticket (sender's name or email address), it is
possible to use variables in salutations. Thus, if you reply a ticket, the variable
names will be replaced for their real content, i.e., the text which is saved in
the variables.
</para>

<para>
The different variables you can use in responses are listed in the lower
part of the salutation screen. If you use, for example, the variable
&lt;OTRS_LAST_NAME&gt; the last name of the ticket's sender  will be
included in your reply.
</para>

<note>
<para>
To keep the consistency of the data for OTRS it is not possible to delete
salutations, but only deactivate them. To do so, set them to
<emphasis>invalid</emphasis> or <emphasis>invalid-temporarily</emphasis>.
</para>
</note>

</section>


<section id="adminarea-signatures">
<title>Signatures</title>

<para>
Another text module for a response is the signature. Signatures can be
linked to a queue, as described in the section about the

<link linkend="adminarea-queue">
queues
</link>

. Only if a signature is linked to a queue it will be included into the
response text. Through "Signatures" link of the admin area, you can manage the
signatures in your system (see Figure 5.22 below).
</para>

<para>
<screenshot>
<screeninfo>Management of signatures</screeninfo>
<graphic srccredit="Adminarea signatures - screenshot" scale="40" fileref="screenshots/admin-signatures.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.22. Signatures management.</emphasis>
</para>

<para>
After a default installation of OTRS, there is one predefined signature
stored in your system, "system standard signature (en)".
</para>

<para>
To create a new signature, press the button "Add signature", provide the
needed data and submit it (see Figure 5.23 below).
</para>

<para>
<screenshot>
<screeninfo>Add a signature</screeninfo>
<graphic srccredit="Adminarea signature - screenshot" scale="40" fileref="screenshots/add-signature.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.23. Adding a new signature.</emphasis>
</para>

<para>
Like salutations, signatures can also contain dynamical content (e.g. the first
and last name of the agent who answers the ticket), also variables replace
the content of the signature text for every ticket. See the lower part of
the signatures screen for the variables which can be used. If you include
the variable &lt;OTRS_LAST_NAME&gt; in a signature for example, the last name of
the agent who answers the ticket will replace the variable's name.
</para>

<note>
<para>
To keep the consistency of the data for OTRS it is not possible to delete
signatures, but only deactivate them. To do so, set them to
<emphasis>invalid</emphasis> or <emphasis>invalid-temporarily</emphasis>.
</para>
</note>

</section>


<section id="adminarea-attachments">
<title>Attachments</title>

<para>
Optionally, you can also create one or more attachments for a response. If the
response is selected, the attachments will be attached to the message
composition window. If necessary, the agent can remove the attachment from an individual
response  before sending it to the customer.
</para>

<para>
Through the "Attachment" link of the admin area, you can load the attachments
into the database of the system (see Figure 5.24 below).
</para>

<para>
<screenshot>
<screeninfo>Managing attachments for responses</screeninfo>
<graphic srccredit="Adminarea attachment - screenshot" scale="40" fileref="screenshots/admin-attachment.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.24. Attachments management.</emphasis>
</para>

<para>
To create a new attachment, press the button "Add attachment", provide the
needed data and submit it (see Figure 5.25 below).
</para>

<para>
<screenshot>
<screeninfo>Add an attachment</screeninfo>
<graphic srccredit="Adminarea signature - screenshot" scale="40" fileref="screenshots/add-attachment.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.25. Adding a new attachment.</emphasis>
</para>

<para>
If an attachment is stored it can be linked to
one or more responses, just follow the "Attachment &lt;-&gt; Responses"
link of the admin area (see Figure 5.26 below).
</para>

<para>
<screenshot>
<screeninfo>Linking attachments to responses</screeninfo>
<graphic srccredit="Adminarea attachment response - screenshot" scale="40" fileref="screenshots/admin-attachment-response.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.26. Linking attachments to responses.</emphasis>
</para>

<para>
To define the different attachments a response can have and viceversa, click on the corresponding
response name or attachment (see below the Figures 5.27 and 5.28, respectively).
</para>

<para>
<screenshot>
<screeninfo>Change attachment relations for a response</screeninfo>
<graphic srccredit="Adminarea responses and attachments - screenshot" scale="40" fileref="screenshots/response-attachment-relations.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.27. Change attachment relations for a response.</emphasis>
</para>

<para>
<screenshot>
<screeninfo>Change response relations for an attachment</screeninfo>
<graphic srccredit="Adminarea responses and attachments - screenshot" scale="40" fileref="screenshots/response-attachment-relations2.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.28. Change response relations for an attachment.</emphasis>
</para>

</section>


<section id="adminarea-Responses">
<title>Responses</title>

<para>
To accelerate answering tickets and to standardize the look of answers, you
can define responses in OTRS. A response can be linked to one or more
queues and vice versa. In order to be able to use a response quickly, the different
responses are displayed below of every ticket in the QueueView or in "My Queues".
</para>

<para>
After a a default installation of the system the "empty answer" response is
defined for every queue. Through the "Responses" link in the admin area, it is possible
to manage the different responses (see Figure 5.29 below).
</para>

<para>
<screenshot>
<screeninfo>Responses</screeninfo>
<graphic srccredit="Adminarea response - screenshot" scale="40" fileref="screenshots/admin-response.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.29. Responses management.</emphasis>
</para>

<para>
To store a new response, just click on the Add response button, provide the required data and submit
it (see Figure 5.30 below).
</para>

<para>
<screenshot>
<screeninfo>Responses</screeninfo>
<graphic srccredit="Adminarea response - screenshot" scale="40" fileref="screenshots/add-response.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.30. Adding a response.</emphasis>
</para>

<para>
To add/remove responses to one or more queues, the "Responses &lt;-&gt; Queues"
link of the admin area can be used (see Figure 5.31 below). You can also use the filters
to look for a specific element.
</para>

<para>
<screenshot>
<screeninfo>Manage response-queue relations</screeninfo>
<graphic srccredit="Adminarea response queue - screenshot" scale="40" fileref="screenshots/admin-response-queue.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.31. Response-Queue relations management.</emphasis>
</para>

<para>
To define the different responses that will be available for a queue and vice versa,
click on the corresponding response or queue (see below the Figures 5.32 and 5.33, respectively).
</para>

<para>
<screenshot>
<screeninfo>Change queue relations for a response</screeninfo>
<graphic srccredit="Adminarea response and queue - screenshot" scale="40" fileref="screenshots/responses-queues-relations.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.32. Change queue relations for a response.</emphasis>
</para>

<para>
<screenshot>
<screeninfo>Change response relations for a queue</screeninfo>
<graphic srccredit="Adminarea response and queue - screenshot" scale="40" fileref="screenshots/responses-queues-relations2.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.33. Change response relations for a queue.</emphasis>
</para>

<para>
If you use a response, for example through the QueueView, you can see that
not only the text of the response and the ticket text is displayed, but also
a salutation and a signature. A response is assembled by different text
modules. The signature and the salutation of the queue, where the ticket is
stored, are two of the text modules of the response and also the original
ticket text and, if defined, the text of the response is included. The
different text modules are ordered in a way that first the salutation is displayed,
then the quoted ticket text, after that, the text of the response comes, and finally,
the signature is shown.
</para>

</section>

</section>



<section id="adminarea-auto-responses">
<title>Auto responses</title>

<para>
With OTRS, you can send automatic responses to customers if
special events happen, e.g. creation of a ticket in certain queue, reception of a
follow-up for a ticket, closure or rejection of a ticket, etc. To manage this
type of responses, just use "Auto responses" of the admin area (see Figure 5.34 below).
</para>

<para>
<screenshot>
<screeninfo>Auto response management</screeninfo>
<graphic srccredit="Adminarea auto response - screenshot" scale="40" fileref="screenshots/admin-autoresponse.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.34. Auto response management.</emphasis>
</para>

<para>
To create an automatic response, click on the button "Add auto response", provide the needed
data and submit it (see Figure 5.35 below).
</para>

<para>
<screenshot>
<screeninfo>Adding an auto response</screeninfo>
<graphic srccredit="Adminarea auto response - screenshot" scale="40" fileref="screenshots/add-autoresponse.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.35. Adding an auto response.</emphasis>
</para>

<para>
The subject and text of auto responses can also be generated
by variables, the same as in signatures and salutations. If you insert, for example,
the variable &lt;OTRS_CUSTOMER_EMAIL[5]&gt; into the body of the
auto answer, the first 5 lines of the customer mail text will be inserted into the
auto answer. At the bottom of the screen, shown in the Figure 5.35, you will find more details
about the valid variables that can be used.
</para>

<para>
For every automatic answer, you can specify the event that
should trigger it. The system events that are available
after a default installation are described in the Table 5-3.
</para>

<table id="table-of-autoanswer-types">
<title>Events for auto answers</title>
  <tgroup cols="2">
    <thead>
      <row>
        <entry>
          Name
        </entry>
        <entry>
          Description
        </entry>
      </row>
    </thead>
    <tbody>
      <row>
        <entry>
          auto reply
        </entry>
        <entry>
          Creation of a ticket in a certain queue.
        </entry>
      </row>
      <row>
        <entry>
          auto reply/new ticket
        </entry>
        <entry>
          Reopening of an already closed ticket, e.g. if a customer replies to such
          ticket.
        </entry>
      </row>
      <row>
        <entry>
          auto follow up
        </entry>
        <entry>
          Reception of a follow-up for a ticket.
        </entry>
      </row>
      <row>
        <entry>
          auto reject
        </entry>
        <entry>
          Automatic rejection of a ticket, done by the system.
        </entry>
      </row>
      <row>
        <entry>
          auto remove
        </entry>
        <entry>
          Deletion of a ticket, done by the system.
        </entry>
      </row>
    </tbody>
  </tgroup>
</table>

<note>
<para>
To keep the consistency of the data for OTRS it is not possible to delete
auto responses, but only deactivate them. To do so, set them to
<emphasis>invalid</emphasis> or <emphasis>invalid-temporarily</emphasis>.
</para>
</note>

<para>
To add an auto response to a queue, use the "Auto Response &lt;-&gt; Queues"
link in the admin area (see Figure 5.36 below). All system events are listed for
every queue and an auto answer with the same event can be selected or removed
via a listbox.
</para>

<para>
<screenshot>
<screeninfo>Manage queue - auto response relations</screeninfo>
<graphic srccredit="Adminarea queue - auto response - screenshot" scale="40" fileref="screenshots/admin-autoresponse-queue.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.36. Queue-Auto response relations management.</emphasis>
</para>

<para>
To define the different auto responses that will be available for a queue,
click on the corresponding queue name (see Figure 5.37 below). It is also possible
to edit an existing auto response, to do so, click on the wished registry and
change anything you need to, as if it was a new auto response.
</para>

<para>
<screenshot>
<screeninfo>Change auto response relations for a queue</screeninfo>
<graphic srccredit="Adminarea auto response and queue - screenshot" scale="40" fileref="screenshots/autoresponses-queues-relations.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.37. Change auto response relations for a queue.</emphasis>
</para>

</section>


<section id="adminarea-emailaddresses">
<title>Email addresses</title>

<para>
To enable OTRS to send emails, you need at least a valid email address to be used
by the system. Due to a lot of setups need more than one email address, OTRS is
able to simultaneously work with several of them. A queue can be linked to many
email addresses, and vice versa. The address, that shall be used for outgoing messages
from a queue, can be set when the queue is created. Use the "Email Addresses"
link of the admin area, to manage all email addresses of the system (see Figure 5.38 below).
</para>

<para>
<screenshot>
<screeninfo>Managing the email addresses of the system</screeninfo>
<graphic srccredit="Adminarea email - screenshot" scale="40" fileref="screenshots/admin-email.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.38. System email addresses management.</emphasis>
</para>

<para>
If you create a new mail address (see Figure 5.39 below) you can select the queue or sub
queue that shall be linked with it. This link enables the system to sort incoming messages
via the address in the To: field of the mail into the right queue.
</para>

<para>
<screenshot>
<screeninfo>Adding a system email address</screeninfo>
<graphic srccredit="Adminarea email - screenshot" scale="40" fileref="screenshots/add-email.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.39. Adding a system email address.</emphasis>
</para>

<note>
<para>
To keep the consistency of the data for OTRS it is not possible to delete
system email addresses, but only deactivate them. To do so, set them to
<emphasis>invalid</emphasis> or <emphasis>invalid-temporarily</emphasis>.
</para>
</note>

</section>


<section id="adminarea-notifications">
<title>Notifications</title>

<para>
OTRS allows sending notifications to agents and customer when a specific event happens.
Agents can select the system events for their own notifications in the

<link linkend="user-preferences">
preferences
</link>

.
</para>

<para>
Through the "Notification" link in the adminarea, you can manage the
notifications of your system (see Figure 5.40 below). With the help of the filters,
you can search for specific registries.
</para>

<para>
<screenshot>
<screeninfo>Managing notifications</screeninfo>
<graphic srccredit="Adminarea notifications - screenshot" scale="40" fileref="screenshots/admin-notification.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.40. Notification management.</emphasis>
</para>

<para>
You can customize the subject and the text of the notifications. Just select
the notification you want to change from the list and load its content by clicking
on it (see Figure 5.41). Please note that there is a notification with the same
name for each of the available languages.
</para>

<para>
<screenshot>
<screeninfo>Managing notifications</screeninfo>
<graphic srccredit="Adminarea notifications - screenshot" scale="40" fileref="screenshots/customize-notification.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.40. Customizing a notification.</emphasis>
</para>

<para>
Like signatures and salutations, it is possible to dynamically create the content of a
notification, by using special variables. At the bottom of the screen shown in the Figure 5.41
you can find a list of them.
</para>

</section>


<section id="adminarea-smime">
<title>SMIME</title>

<para>
OTRS can process incoming S/MIME encoded messages and sign outgoing mails.
Before this feature can be used, you need to activate it and change some

<link linkend="Framework:Crypt::SMIME">
config parameters
</link>

in the SysConfig.
</para>

<para>
The "S/MIME Certificates" link in the admin area of OTRS, allows you manage your S/MIME
certificates (see Figure 5.42 below). You can add or remove certificates and search through the
SMIME data.
</para>

<para>
<screenshot>
<screeninfo>SMIME</screeninfo>
<graphic srccredit="Adminarea smime - screenshot" scale="40" fileref="screenshots/admin-smime.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.42. S/MIME management.</emphasis>
</para>

</section>


<section id="adminarea-pgp">
<title>PGP</title>

<para>
OTRS handles PGP keys, which allows you to encrypt/decrypt messages and to
sign outgoing messages. Before this feature can be used, you need
to activate it and change some

<link linkend="Framework:Crypt::PGP">
config parameters
</link>

in the SysConfig.
</para>

<para>
Through the "PGP Keys" link in the admin area of OTRS, it is possible to manage
the key ring of the user who shall be used for PGP with OTRS (see Figure 5.43 below),
e.g. the local OTRS user or the web server user. It is possible to add and remove
keys and signatures, and you can search through all data in your key ring.
</para>

<para>
<screenshot>
<screeninfo>PGP</screeninfo>
<graphic srccredit="Adminarea pgp -  screenshot" scale="40" fileref="screenshots/admin-pgp.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.43. PGP management.</emphasis>
</para>

</section>


<section id="adminarea-status">
<title>States</title>

<para>
Through the "States" link, in the admin area of OTRS, you can manage the
different ticket states you want to use in the system (see Figure 5.44 below).
</para>

<para>
<screenshot>
<screeninfo>Managing ticket states</screeninfo>
<graphic srccredit="Adminarea states - screenshot" scale="40" fileref="screenshots/admin-states.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.44. State management.</emphasis>
</para>

<para>
After a default setup, there are some states defined:
</para>

<itemizedlist>
  <listitem>
    <para>
        closed successful
    </para>
  </listitem>
  <listitem>
    <para>
        closed unsuccessful
    </para>
  </listitem>
  <listitem>
    <para>
        merged
    </para>
  </listitem>
  <listitem>
    <para>
        new
    </para>
  </listitem>
  <listitem>
    <para>
        open
    </para>
  </listitem>
  <listitem>
    <para>
        pending auto close+
    </para>
  </listitem>
  <listitem>
    <para>
        pending auto close-
    </para>
  </listitem>
  <listitem>
    <para>
        pending reminder
    </para>
  </listitem>
  <listitem>
    <para>
        removed
    </para>
  </listitem>
</itemizedlist>

<para>
Every state is linked to a type, which needs to be specified if a new state
is created. Per default the state types are:
</para>

<itemizedlist>
  <listitem>
    <para>
        closed
    </para>
  </listitem>
  <listitem>
    <para>
        merged
    </para>
  </listitem>
  <listitem>
    <para>
        new
    </para>
  </listitem>
  <listitem>
    <para>
        open
    </para>
  </listitem>
  <listitem>
    <para>
        pending auto
    </para>
  </listitem>
  <listitem>
    <para>
        pending reminder
    </para>
  </listitem>
  <listitem>
    <para>
        removed
    </para>
  </listitem>
</itemizedlist>

</section>


<section id="adminarea-sysconfig">
<title>SysConfig</title>

<para>
The SysConfig is the place where many configuration options for OTRS are stored.
</para>

<para>
The "SysConfig" link in the admin area of OTRS loads the graphical
configuration front-end (see Figure 5.45 below). You can upload own config files
for the system and backup all your current settings into a file. Almost all config
parameters of the OTRS framework and the installed applications, can be viewed and
changed through the web interface. Because all config parameters are sorted
into groups and sub groups, it is possible to navigate quickly through the
multitude of the parameters. Also it is possible to perform a full-text
search through all the config parameters.
</para>

<para>
<screenshot>
<screeninfo>The graphical configuration front-end of OTRS (SysConfig)</screeninfo>
<graphic srccredit="Adminarea sysconfig - screenshot" scale="40" fileref="screenshots/admin-sysconfig.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.45. The graphical configuration front-end of OTRS (SysConfig).</emphasis>
</para>

<para>
The graphical configuration front-end is described in more detail in the chapter

<link linkend="sysconfig">
"Configuring the system through the web interface"
</link>

.
</para>

</section>


<section id="adminarea-postmasterpop3-account">
<title>Using mail accounts</title>

<para>
There are several possibilities to transport new emails into the ticket
system. One of them is the

<link linkend="email-receiving-cmd">
PostMaster.pl module
</link>

that pipes the mails directly into the system. Another possibility is the use
of mail accounts, which can be administrated through the web interface. The
"PostMaster Mail Accounts" link in the admin area of OTRS, loads the
management console for the mail accounts (see Figure 5.46 below). OTRS supports the mail
protocols: POP3, POP3S, IMAP and IMAPS.
</para>

<para>
<screenshot>
<screeninfo>Mail account management</screeninfo>
<graphic srccredit="Adminarea postmaster - screenshot" scale="40" fileref="screenshots/admin-mailaccount.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.46. Mail account management.</emphasis>
</para>

<para>
See the section about the

<link linkend="email-receiving-pop3">
PostMaster mail accounts
</link>

for more details.
</para>

</section>



<section id="adminarea-postmasterfilter">
<title>Filtering incoming messages</title>

<para>
Because incoming messages can be sorted automatically into queues or spam
mails can be moved into a specific queue, OTRS has the possibility to
filter incoming messages. It does not matter, if <filename>PostMaster.pl</filename>
or mail accounts are used to get messages into the ticket system. Filter
rules can be created through the link "PostMaster Filter" in the admin area
of OTRS (see Figure 5.47 below).
</para>

<para>
<screenshot>
<screeninfo>Managing filter rules for incoming messages</screeninfo>
<graphic srccredit="Adminarea postmasterfilter - screenshot" scale="40" fileref="screenshots/admin-postmasterfilter.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.47. PostMaster filter management.</emphasis>
</para>

<para>
A filter consists of one or more criteria that must match for the defined
actions to be executed. You can define filter
criteria for the headers or the body of an email, e.g. search for specific
header entries or strings in the body, even regular expressions are
allowed. All actions for a filter rule are triggered by X-OTRS headers,
which are inserted if the filter criteria match. The ticket system
evaluates the inserted X-OTRS headers and executes the specific actions.
X-OTRS headers can be used to sort an incoming message into a specific
queue, change the priority of the message or ignore the message and deliver
it not to the system. The Table 5-4 lists the different X-OTRS
headers and their meaning.
</para>

<para>
Note: You also can use X-OTRS-FollowUp-* headers for follow up emails.
</para>

<table id="table-of-x-otrs-headers">
<title>Function of the different X-OTRS-headers</title>
  <tgroup cols="3">
    <thead>
      <row>
        <entry>
          Name
        </entry>
        <entry>
          Possible values
        </entry>
        <entry>
          Description
        </entry>
      </row>
    </thead>
    <tbody>
      <row>
        <entry>
          X-OTRS-Priority:
        </entry>
        <entry>
          1 very low, 2 low, 3 normal, 4 high, 5 very high
        </entry>
        <entry>
          Sets the priority of a ticket.
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-Queue:
        </entry>
        <entry>
          Name of a queue in the system.
        </entry>
        <entry>
          Sets the queue where the ticket shall be sorted in. Is a queue
          set by a X-OTRS header all other filter rules that try to sort a
          ticket into a specific queue are ignored.
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-Lock:
        </entry>
        <entry>
            lock, unlock
        </entry>
        <entry>
          Sets the lock state of a ticket.
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-Ignore:
        </entry>
        <entry>
          Yes or True
        </entry>
        <entry>
          Is this X-OTRS header set to "Yes", the incoming message will
          completely be ignored and never delivered to the system.
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-State:
        </entry>
        <entry>
          new, open, closed successful, closed unsuccessful, ...
        </entry>
        <entry>
          Sets the next state of the ticket.
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-State-PendingTime:
        </entry>
        <entry>
         e. g. 2010-11-20 00:00:00
        </entry>
        <entry>
          Sets the pending time of a ticket (you also should sent a pending state via X-OTRS-State).
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-Type:
        </entry>
        <entry>
         default (depends on your setup)
        </entry>
        <entry>
          Sets the type of a ticket (if Ticket::Type support is active).
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-Service:
        </entry>
        <entry>
         (depends on your setup)
        </entry>
        <entry>
          Sets the service of a ticket (if Ticket::Service support is active).
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-SLA:
        </entry>
        <entry>
         (depends on your setup)
        </entry>
        <entry>
          Sets the SLA of a ticket (if Ticket::Service support is active).
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-CustomerUser:
        </entry>
        <entry>
          CustomerUser
        </entry>
        <entry>
          Sets the customer user for the ticket.
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-CustomerNo:
        </entry>
        <entry>
          CustomerNo
        </entry>
        <entry>
          Sets the customer ID for this ticket.
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-ArticleKey(1|2|3):
        </entry>
        <entry>
          Additional info key for the article.
        </entry>
        <entry>
          Saves an additional info key for this article.
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-ArticleValue(1|2|3):
        </entry>
        <entry>
          Additional info value for the article.
        </entry>
        <entry>
          Saves an additional info value for the article.
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-SenderType:
        </entry>
        <entry>
          agent, system, customer
        </entry>
        <entry>
          Sets the type of the ticket sender.
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-ArticleType:
        </entry>
        <entry>
          email-external, email-internal, email-notification-ext,
          email-notification-int, phone, fax, sms, webrequest,
          note-internal, note-external, note-report
        </entry>
        <entry>
          Sets the article type for the incoming ticket.
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-TicketKey(1|2|...|8):
        </entry>
        <entry>
          Additional info key for the ticket.
        </entry>
        <entry>
          Saves an additional info key for the ticket.
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-TicketValue(1|2|...|8):
        </entry>
        <entry>
          Additional info value for the ticket.
        </entry>
        <entry>
          Saves an additional info value for the ticket.
        </entry>
      </row>
      <row>
        <entry>
          X-OTRS-Loop:
        </entry>
        <entry>
          True
        </entry>
        <entry>
          If this X-OTRS header is set no auto answer is delivered to the
          sender of the message (mail loop protection).
        </entry>
      </row>
    </tbody>
  </tgroup>
</table>

<para>
A name must be specified for every filter rule. In the section for "Match"
the filter criteria can be specified. Choose via the listboxes for
"Header 1", "Header 2" and so on the parts of the messages where you would
like to search and specify via the input files on the right sides the
values. In the section for "Set" you can choose the actions that are
triggered, if the filter rules match. You can select for "Header 1",
"Header 2" and so on the X-OTRS-Header and set the values (see Figure 5.48 below).
</para>

<para>
<screenshot>
<screeninfo>Addin filter rules for incoming messages</screeninfo>
<graphic srccredit="Adminarea postmasterfilter - screenshot" scale="40" fileref="screenshots/add-postmasterfilter.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.48. Add a PostMaster filter.</emphasis>
</para>

<example id="sort-mails-into-junk">
<title>Sort spam mails into a specific queue</title>

<para>
A useful filter rule could be to let OTRS automatically sort mails marked for
spam with a spam detection tool, such as SpamAssassin, into the "Junk" queue.
SpamAssassin adds the "X-Spam-Flag" header to every checked mail.
When the mail is marked as spam, the Header is set to "Yes". So the filter criteria
would be "X-Spam-Flag: Yes". To create a filter rule with this criteria you can
insert the name for example "spam-mails". Also choose in the section for
"Match" for "Header 1" from the listbox "X-Spam-Flag:". Insert "Yes" as
value for this header. Now the filter criteria is specified. To make sure,
that all spam mails get sorted into the "Junk" queue choose in the section for
"Set" for "Header 1" the "X-OTRS-Queue:" entry. Specify "Junk" as value for
this header. Finally add the new filter rule to activate it for the next
new messages in the system.
</para>
</example>

<para>
There are additional modules, that can be used to

<link linkend="email-receiving-filter">
filter incoming messages
</link>

more specifically. These modules might be useful on bigger and complex
systems.
</para>

</section>


<section id="adminarea-genericagent">
<title>Executing automated jobs with the GenericAgent</title>

<para>
The GenericAgent is a tool to execute tasks automatically, that otherwise
should be done by a human person, a real agent. The GenericAgent, for example, can
close or move tickets, send notifications on escalated tickets, etc.
</para>

<para>
To access to the GenericAgent, the link "GenericAgent" in the
admin area of OTRS can be used (see Figure 5.49 below). A table with the already created jobs is
displayed, where jobs can be executed manually or removed.
</para>

<para>
<screenshot>
<screeninfo>Job list for the GenericAgent</screeninfo>
<graphic srccredit="Adminarea genericagent - screenshot" scale="40" fileref="screenshots/admin-genericagent.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.49. Job list for the GenericAgent.</emphasis>
</para>

<para>
To create a new job a name must be specified and the "Add job" button must be
pressed. Via the screen for the creation of a new job for the GenericAgent you can specify
the times when the job shall be executed, different criteria to select the tickets
to work on and the new properties of those tickets (see Figure 5.50 below).
</para>

<para>
<screenshot>
<screeninfo>Creating a job for the GenericAgent</screeninfo>
<graphic srccredit="Adminarea genericagent - screenshot" scale="40" fileref="screenshots/add-genericagent-job.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.50. Creating a job for the GenericAgent.</emphasis>
</para>

<para>
If the creation of the job is finished all affected tickets by the job are
listed. This list helps you verify that the job is having the expected behavior,
no changes are made to these tickets yet. The job will be
really activated if it is saved into the job list.
</para>

</section>


<section id="adminarea-adminemail">
<title>Admin email</title>

<para>
OTRS administrators can send messages to specific users or groups.
The "Admin Notification" in the admin area, opens the screen where the agents
and groups that should be notified can be selected (see Figure 5.51 below).
</para>

<para>
<screenshot>
<screeninfo>Admin notification</screeninfo>
<graphic srccredit="Adminarea email - screenshot" scale="40" fileref="screenshots/send-admin-notification.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.51. Admin notification.</emphasis>
</para>

<para>
It is possible to specify the sender, subject and body text of the notification.
You can also select the agents, groups and roles who should receive the message.
</para>

</section>

<section id="adminarea-session-management">
<title>Session management</title>

<para>
You can see all logged in users and their session details by clicking the
"Session Management" link in the admin area (see Figure 5.52 below).
</para>

<para>
<screenshot>
<screeninfo>Session management</screeninfo>
<graphic srccredit="Adminarea sessionmanagement - screenshot" scale="40" fileref="screenshots/admin-sessionmanagement.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.52. Session management.</emphasis>
</para>

<para>
Some statistics about all active sessions are displayed, e.g. how
many agents and customer users are logged in, number of active sessions.
Every individual session can be removed y clicking on
the <emphasis>Kill this session</emphasis> in the right-hand side of the list.
You also have the option to <emphasis>Kill all sessions</emphasis>, which can be
useful if you'd like to bring the system down.
Detailed information for every session is available, too (see Figure 5.53 below).
</para>

<para>
<screenshot>
<screeninfo>Session details</screeninfo>
<graphic srccredit="Adminarea session management - screenshot" scale="40" fileref="screenshots/admin-session-details.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.53. Session details.</emphasis>
</para>

</section>

<section id="adminarea-system-log">
<title>System Log</title>

<para>
The "System Log" link in the admin area of OTRS, shows the last log entries
of the system (see Figure 5.54 below).
</para>

<para>
<screenshot>
<screeninfo>System Log</screeninfo>
<graphic srccredit="Adminarea syslog - screenshot" scale="40" fileref="screenshots/admin-syslog.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.54. System Log.</emphasis>
</para>

<para>
Each line in the log contains: a time stamp, the log priority, the system
component and the log entry itself.
</para>

<note>
<para>
The system logs are only available via the web interface on linux or
unix systems. On Windows systems you can see the log by opening the file
<filename>[install_dir]otrs\var\log\otrs.log</filename> with a text editor.
</para>
</note>

</section>


<section id="adminarea-selectbox">
<title>SQL queries via the SQL box</title>

<para>
The "SQL Box" link in the admin area, opens a screen that lets you query the content of the
tables in the OTRS database (see Figure 5.55 below). It is not possible to change the content
of the tables, only queries are allowed.
</para>

<para>
<screenshot>
<screeninfo>SQL Box</screeninfo>
<graphic srccredit="Adminarea selectbox - screenshot" scale="40" fileref="screenshots/admin-selectbox.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.55. SQL Box.</emphasis>
</para>

</section>


<section id="adminarea-package-manager">
<title>Package manager</title>

<para>
Using the "Package Manager" in the admin area, you can install and manage packages
that extend the functionality of OTRS (see Figure 5.56 below). See the
<link linkend="application">Additional applications</link>
section for a discussion on the extensions that are available from the
OTRS repositories.
</para>

<para>
<screenshot>
<screeninfo>Package Manager</screeninfo>
<graphic srccredit="Adminarea packagemanager - screenshot" scale="40" fileref="screenshots/admin-packagemanager.png"></graphic>
</screenshot>
</para>

<para>
    <emphasis>Figure 5.56. Package Manager.</emphasis>
</para>

<para>
In the package manager you can review the packages you currently have installed
together with their version numbers.
</para>

<para>You can install packages from a remote host by selecting the repository in
the <emphasis>Online Repository</emphasis> section and clicking
the <emphasis>Update repository information</emphasis> button. The available packages
are displayed in the corresponding table. The right side of the screen shows
the available packages. To install one, click on <emphasis>Install</emphasis>.
After installation the package is displayed in the <emphasis>Local Repository</emphasis>
section.
</para>

<para>
To upgrade an installed package, the list of available packages in the online
repository will show <emphasis>Upgrade</emphasis> in the Action column for any package
that has a higher version than the locally installed. Just click Upgrade and it will
install the new package on your system.
</para>

<para>
In some cases, such as when your OTRS system is not connected to the
Internet, you can also install packages you have downloaded to a local disk.
Click the <emphasis>Browse</emphasis> button on the Actions side bar and select the
.opm file on your disk.
Click <emphasis>Open</emphasis> and then <emphasis>Install Package</emphasis>. After
installation the package is displayed in the <emphasis>Local Repository</emphasis>
section. You can use the same steps for updating a package that is already
installed.
</para>

<para>
In special cases, you might want to configure the package manager, e.g.,
to use a proxy or to use a local repository. Just take a look at the
available options in SysConfig under
<link linkend="Framework:Core::Package">Framework:Core::Package</link>.
</para>

</section>

</chapter>
